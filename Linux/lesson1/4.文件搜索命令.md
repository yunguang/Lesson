### 第四章 文件搜索命令

#### 一、Linux文件搜索命令 locate

  1. 用法： locate 文件名
  
  2. 原理：该命令是在后台数据库 /var/lib/mlocate中搜索，所以搜索速度快
  
  3. 缺点：
  
     1. 数据库不是实时更新的，默认一天更新一次
     
     2. 数据库不会更新/etc/updatedb.conf中的筛选条目
     
  4. 强制更新数据库命令： updatedb
  
#### 二、命令搜索命令  whereis 和 which

  1. whereis 命令名称
  
     1. 只能搜索系统命令
     
     2. 结果是 搜索命令所在路径以及帮助文档所在位置
     
     3. 选项 ：
     
        1. -b : 只查找可执行文件
        
        2. -m : 只查找帮助文件
        
  2. which  命令
  
     1. 查找可执行文件路径，以及别名
     
  3. cd 是shell自带的，不需要可执行文件，所以不能通过whereis和which查找
  
  4. PATH：环境变量   是系统搜索命令的路径
  
#### 三、find搜索命令

  1. find [搜索范围] [搜索条件]
  
  2. 例如： find / -name install.log
  
  3. find要避免大范围搜索，会非常消耗系统资源
  
  4. find是精确匹配，如果想要模糊匹配，可以使用通配符，通配符是完全匹配
  
  5. *  ?  []
  
  6. 选项
  
     1. -name  按名称
     
     2. -iname 不区分大小写
     
     3. -user 按所有者搜索
     
     4. -nouser 搜索没有所有者的文件；一般来说，没有所有者的文件应该是垃圾文件，有两种特殊情况
     
        1. /sys 和 /proc 是挂载内存的，没有所有者
        
        2. 外来文件（如硬盘，U盘，光盘等）没有所有者
        
     5. -mtime 按修改文件内容时间
     
        1. find /var/log/ -mtime  +10
        
           1. +10 ： 查找10天前修改的文件
           
           2. 10 ：10天当天修改的文件
           
           3. -10 ：10天内修改的文件
           
     6. -atime 文件访问时间
     
     7. -ctime 改变文件属性
     
     8. -size 按文件大小（一定要带上单位）
     
        1. find  . -size 25k
        
        2. -25k 小于25kb的文件
        
        3. 25k  等于25kb的文件
        
        4. +25k 大于25kb的文件
        
        5. kb的单位是小写k, MB的单位是大写M
        
     9. -inum 按文件的inode查找
     
     10. -a (and) 逻辑与，两个条件都满足
     
         1. 如：find /etc -size +20k -a -size -50k
        
         2. 查找/etc目录下，大于20kb并且小于50kb的文件
        
     11. -o (or) 逻辑或，两个条件满足一个即可
     
     12. -exec/-ok 命令 {} \; 对搜索的结果进行操作
     
         1. 如： find /etc -size +20k -exec ls -lh {} \;
         
#### 四、Linux中的grep命令（搜索字符串）

  1. grep [选项]  字符串  文件名 （字符串要加引号）
  
  2. 选项
  
     1. -i ：忽略大小写
     
     2. -v : 排除指定字符串
     
#### 五、find和grep的区别

  1. find ：在系统中搜索符合条件的文件名，是完全匹配（就是结果和文件一模一样）
  
  2. grep ：在文件中搜索符合条件的字符串，是不完全匹配（只要包含搜索的字符串，都会找出来）
  
        
        
     
           
           
        
        
  
  