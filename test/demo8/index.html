<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        html,body{
            height: 100%;
            width:100%;
        }
    </style>
</head>
<body>
<canvas id="canvas"></canvas>
</body>
<script>
    var canvas = document.getElementById('canvas');
    var ctx = canvas.getContext('2d');
    var WINDOW_WIDTH=window.innerWidth;
    var WINDOW_HEIGHT=window.innerHeight;
    console.log(window.innerWidth);
    console.log(window.innerHeight);
    canvas.width = WINDOW_WIDTH;
    canvas.height = WINDOW_HEIGHT;
    drawWave(ctx,100);

    window.requestAnimFrame = (function(){
        return window.requestAnimationFrame ||
                window.webkitRequestAnimationFrame ||
                window.mozRequestAnimationFrame ||
                function( callback ){
                    window.setTimeout(callback, 1000 / 60);
                };
    })();


    var step = 0;
    var lines = ["rgba(0,222,255, 0.2)", "rgba(157,192,249, 0.2)", "rgba(0,168,255, 0.2)"];
    loop();

    function loop(){
        ctx.clearRect(0,0,canvas.width,canvas.height);
        step++;
        //step+=10;
        //画3个不同颜色的矩形
        var offsetX = 50;
        var offsetY=50;
        var x = 0;
        var y = window.innerHeight/2;
//        for(var j = lines.length - 1; j >= 0; j--) {
//            ctx.fillStyle = lines[j];
//            //每个矩形的角度都不同，每个之间相差45度
//            var angle = (step+j*45)*Math.PI/180;
//            var deltaHeight = Math.sin(angle)*100;
//           // var deltaHeightRight = Math.cos(angle) * 100;
//            drawWave(ctx)
//        }
        drawWave(ctx);
       // requestAnimFrame(loop);


    }
    function drawWave(ctx) {
            ctx.beginPath();
            var x = 0;
            var y = WINDOW_HEIGHT/ 2;
            ctx.moveTo(0, y);
            for(var i=0;i<canvas.width;i++){
                var del = Math.sin(i+1)*100;
                console.log(del);
                ctx.lineTo(i*50+1,y+del);
            }
           ctx.lineTo(WINDOW_WIDTH, WINDOW_HEIGHT);
           ctx.lineTo(0, WINDOW_HEIGHT);
           ctx.closePath();
            ctx.fill();
    }

//    function loop(){
//        ctx.clearRect(0,0,canvas.width,canvas.height);
//        step++;
//        //step+=10;
//        //画3个不同颜色的矩形
//        var offsetX = 50;
//        var offsetY=50;
//        var x = 0;
//        var y = window.innerHeight/2;
//        for(var j = lines.length - 1; j >= 0; j--) {
//            ctx.fillStyle = lines[j];
//            //每个矩形的角度都不同，每个之间相差45度
//            var angle = (step+j*45)*Math.PI/180;
//            var deltaHeight = Math.sin(angle)*10;
//            var deltaHeightRight = Math.cos(angle) * 100;
//            drawWave(ctx,step,50,150)
//        }
//        requestAnimFrame(loop);
//
//
//    }
//    function drawWave(ctx,step,offsetX,offsetY) {
//        ctx.beginPath();
//        var x = step;
//        var y = WINDOW_HEIGHT/ 2;
//        ctx.moveTo(x, y);
//        for (var i = 0; i < 4; i++) {
//            var delta = i * 9;
//            ctx.bezierCurveTo(x + (3 + delta) * offsetX, y + offsetY, x + (6 + delta) * offsetX, y - offsetY, x + (9 + delta) * offsetX, y);
//        }
//        ctx.lineTo(WINDOW_WIDTH, WINDOW_HEIGHT);
//        ctx.lineTo(0, WINDOW_HEIGHT);
//        ctx.closePath();
//        ctx.fill();
//    }
</script>
</html>